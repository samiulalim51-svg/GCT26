<!DOCTYPE html>
<html>
<head>
<title>Live Scoreboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;text-align:center;}
</style>
</head>
<body>

<h2 id="teams">Loading...</h2>
<h3 id="innings"></h3>
<h1 id="score"></h1>
<h3 id="rr"></h3>
<h3 id="reqrr"></h3>
<h2 id="winner"></h2>

<!-- 1️⃣ Firebase libraries -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<!-- 2️⃣ Firebase initialization -->
<script>
var firebaseConfig = {
  apiKey: "AIzaSyCPdXradq3f4Wy8_Bnb8UleaPVN--abCyk",
    authDomain: "gct26-33855.firebaseapp.com",
    databaseURL: "https://gct26-33855-default-rtdb.firebaseio.com",
    projectId: "gct26-33855",
    storageBucket: "gct26-33855.firebasestorage.app",
    messagingSenderId: "129594715864",
    appId: "1:129594715864:web:611f4a662c66741da3f1ad"
};

firebase.initializeApp(firebaseConfig);

// ✅ IMPORTANT
var db = firebase.database();
</script>

<!-- 3️⃣ App logic -->
<script>
db.ref("match").on("value", function(snapshot){
  if(!snapshot.exists()){
    document.getElementById("teams").innerText="No match data";
    return;
  }

  let m=snapshot.val();
  document.getElementById("teams").innerText =
    m.team1+" vs "+m.team2;

  let inn=m.innings==1?m.firstInnings:m.secondInnings;
  let overs=(inn.balls/6).toFixed(1);
  let rr=inn.balls?((inn.runs*6)/inn.balls).toFixed(2):0;

  document.getElementById("innings").innerText="Innings "+m.innings;
  document.getElementById("score").innerText=
    inn.runs+"/"+inn.wickets+" ("+overs+" ov)";
  document.getElementById("rr").innerText="Run Rate: "+rr;

  if(m.innings==2){
    let ballsLeft=60-inn.balls;
    let runsLeft=m.target-inn.runs;
    let rrr=ballsLeft?((runsLeft*6)/ballsLeft).toFixed(2):0;
    document.getElementById("reqrr").innerText=
      "Target: "+m.target+" | Required RR: "+rrr;
  }

  document.getElementById("winner").innerText=m.winner;
});
</script>

</body>
</html>
